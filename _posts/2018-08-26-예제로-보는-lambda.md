---
title: "예제로 보는 Lambda"
date: 2018-08-26 23:41:28 -0800
categories: java lambda
---

# lambda

## foreach

List에 담긴 Transaction 객체에 confirmYn 값을 true로 변경 후 repository에 저장한다.

### plain

~~~java
for(Transaction transaction: transactions) {
  transaction.setConfirmYn(true);
  transactionRepository.save(transaction);
}
~~~

### lambda

~~~java
transactions.forEach(o -> {
    o.setConfirmYn(true);
    transactionRepository.save(o);
});
~~~

---

## map

List rigGroupUsers에 담긴 RigGroup 객체에 담긴 rigGroupUserId.rigGroupSn의 List로 변환한다.

### plain

~~~java
List<Long> rigGroupSns = new ArrayList<>();

for(RigGroupUser rigGroupUser: rigGroupUsers) {
  rigGroupSns.add(rigGroupUser.getRigGroupUserId().getRigGroupSn());
}
~~~

### lambda

~~~java
rigGroupUsers.stream().map(o -> o.getRigGroupUserId().getRigGroupSn()).collect(Collectors.toList());
~~~

## mapToLong

rigGpus에 담긴 RigGpu 객체의 hashrate의 총 합을 반환한다.

### plain

~~~java
Long sum = 0L;
for(RigGpu rigGpu: rigGpus) {
  sum = sum + rigGpu.getHashrate();
}
~~~

### lambda

~~~java
rigGpus.stream().mapToLong(RigGpu::getHashrate).sum();
~~~
